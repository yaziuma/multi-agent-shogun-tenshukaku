<div class="history-controls">
    <button type="button" class="btn-toggle-all" data-action="open-all" hx-disable>å…¨ã¦é–‹ã</button>
    <button type="button" class="btn-toggle-all" data-action="close-all" hx-disable>å…¨ã¦é–‰ã˜ã‚‹</button>
    <button type="button" class="btn-refresh" onclick="document.body.dispatchEvent(new Event('refresh-history'))" hx-disable>ğŸ”„ æ›´æ–°</button>
</div>
<div class="history-list" hx-get="/api/history" hx-trigger="refresh-history from:body" hx-target=".history-list" hx-select=".history-list" hx-swap="outerHTML">
    {% for cmd in commands|default([]) %}
    <div class="history-item {% if cmd.status == 'done' %}done{% else %}pending{% endif %}">
        <span class="cmd-id">{{ cmd.cmd_id }}</span>
        <span class="status">{{ cmd.status }}</span>
        <span class="timestamp">{{ cmd.timestamp }}</span>
        <button type="button" class="toggle-btn" hx-disable>â–¶ è¡¨ç¤º</button>
        <div class="instruction-content" style="display:none">
            <pre>{{ cmd.instruction }}</pre>
        </div>
    </div>
    {% endfor %}
</div>
